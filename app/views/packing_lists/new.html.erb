<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-900">Create Packing List</h1>
    <p class="text-gray-600">Fill in your trip details and we'll generate a smart packing list.</p>
  </div>
  
  <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
    <%= form_with model: @packing_list, url: packing_lists_path, method: :post, local: true, 
        data: { controller: "packing-form" } do |f| %>
      
      <!-- Destinations -->
      <div class="mb-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-3">üìç Destinations</h2>
        
        <div id="destinations" data-packing-form-target="destinations">
          <div class="destination-entry bg-gray-50 rounded-lg p-4 mb-3">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
              <div class="sm:col-span-3">
                <label class="block text-sm font-medium text-gray-700 mb-1">Location</label>
                <input type="text" name="packing_list[destinations][][location]" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                       placeholder="e.g., Paris, France" required>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Start Date</label>
                <input type="date" name="packing_list[destinations][][start_date]" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">End Date</label>
                <input type="date" name="packing_list[destinations][][end_date]" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
              </div>
            </div>
          </div>
        </div>
        
        <button type="button" 
                class="text-blue-600 hover:text-blue-700 text-sm font-medium"
                data-action="click->packing-form#addDestination">
          + Add another destination
        </button>
      </div>
      
      <!-- Traveler Info -->
      <div class="mb-6 pt-6 border-t border-gray-200">
        <h2 class="text-lg font-semibold text-gray-900 mb-3">üë§ Traveler Info</h2>
        
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Gender</label>
            <select name="packing_list[traveler_info][gender]" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
              <option value="">Not specified</option>
              <option value="male" <%= 'selected' if current_user.default_gender == 'male' %>>Male</option>
              <option value="female" <%= 'selected' if current_user.default_gender == 'female' %>>Female</option>
              <option value="other" <%= 'selected' if current_user.default_gender == 'other' %>>Other</option>
            </select>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Age</label>
            <input type="number" name="packing_list[traveler_info][age]" 
                   value="<%= current_user.default_age %>"
                   class="w-full px-3 py-2 border border-gray-300 rounded-lg">
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Clothing Size</label>
            <input type="text" name="packing_list[traveler_info][clothing_size]" 
                   value="<%= current_user.default_clothing_size %>"
                   class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                   placeholder="e.g., M">
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Shoe Size</label>
            <input type="text" name="packing_list[traveler_info][shoe_size]" 
                   value="<%= current_user.default_shoe_size %>"
                   class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                   placeholder="e.g., US 10">
          </div>
        </div>
        
        <div class="mt-4">
          <label class="block text-sm font-medium text-gray-700 mb-1">Sleepwear</label>
          <select name="packing_list[traveler_info][sleepwear]" class="w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-lg">
            <option value="minimal" <%= 'selected' if current_user.default_sleepwear == 'minimal' %>>Minimal</option>
            <option value="dedicated" <%= 'selected' if current_user.default_sleepwear == 'dedicated' %>>Dedicated pajamas</option>
            <option value="none" <%= 'selected' if current_user.default_sleepwear == 'none' %>>None</option>
          </select>
        </div>
      </div>
      
      <!-- Trip Details -->
      <div class="mb-6 pt-6 border-t border-gray-200">
        <h2 class="text-lg font-semibold text-gray-900 mb-3">üéí Trip Details</h2>
        
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Activities</label>
            <input type="text" name="packing_list[activities]" 
                   class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                   placeholder="e.g., business meetings, sightseeing, hiking">
          </div>
          
          <div class="flex items-center">
            <input type="checkbox" name="packing_list[laundry_available]" value="1" id="laundry"
                   class="h-4 w-4 text-blue-600 border-gray-300 rounded">
            <label for="laundry" class="ml-2 text-sm text-gray-700">Laundry will be available during the trip</label>
          </div>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Luggage Volume (liters)</label>
              <input type="number" name="packing_list[luggage_volume]" step="0.1"
                     class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                     placeholder="e.g., 40">
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Or Luggage Name</label>
              <input type="text" name="packing_list[luggage_name]" 
                     class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                     placeholder="e.g., Away Carry-On">
            </div>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Additional Notes</label>
            <textarea name="packing_list[additional_notes]" rows="3"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                      placeholder="Any special requirements or preferences..."></textarea>
          </div>
        </div>
      </div>
      
      <!-- Submit -->
      <div class="pt-6 border-t border-gray-200">
        <%= f.submit "Generate Packing List ü™Ñ", 
            class: "w-full py-3 px-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors cursor-pointer" %>
      </div>
    <% end %>
  </div>
</div>
